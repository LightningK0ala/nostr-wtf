import{w as h}from"./index.efa70ab8.js";import{$ as _}from"./index.665dd96b.js";const S={message:"Missing Toast Message",autohide:!0,timeout:5e3};function p(){const e=Math.random();return Number(e).toString(32)}function v(e){e.autohide===!0&&setTimeout(()=>{M.close(e.id)},e.timeout)}function I(){const{subscribe:e,set:i,update:s}=h([]);return{subscribe:e,trigger:t=>s(r=>{const n=p();t&&t.callback&&t.callback({id:n,status:"queued"});const a={...S,...t,id:n};return r.push(a),v(a),r}),close:t=>s(r=>{if(r.length>0){const n=r.findIndex(c=>c.id===t),a=r[n];a&&a.callback&&a.callback({id:t,status:"closed"}),r.splice(n,1)}return r}),clear:()=>i([])}}const M=I(),f={};function w(e){return e==="local"?localStorage:sessionStorage}function g(e,i,s){const t=(s==null?void 0:s.serializer)??JSON,r=(s==null?void 0:s.storage)??"local",n=typeof window<"u"&&typeof document<"u";function a(c,l){n&&w(r).setItem(c,t.stringify(l))}if(!f[e]){const c=h(i,o=>{const u=n?w(r).getItem(e):null;if(u&&o(t.parse(u)),n){const b=d=>{d.key===e&&o(d.newValue?t.parse(d.newValue):null)};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)}}),{subscribe:l,set:m}=c;f[e]={set(o){a(e,o),m(o)},update(o){const u=o(_(c));a(e,u),m(u)},subscribe:l}}return f[e]}g("modeOsPrefers",!1);g("modeUserPrefers",void 0);g("modeCurrent",!1);export{M as t};
